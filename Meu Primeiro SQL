# MEU PRIMEIRO SQL

-- 1 PASSO: CRIAR A BASE DE DADOS (DATABASE ou SCHEMA)

CREATE DATABASE IF NOT EXISTS PRIMEIRO_CC1MC;

-- CRIAR DATABASE OU SCHEMA [IF NOT EXISTS] NOME;
-- IF NOT EXISTS: SE JÁ EXISTIR, NÃO CRIE;

-- 2 PASSO: ABRIR A BASE DE DADOS PARA USO

USE PRIMEIRO_CC1MC;

-- USE NOME_BASE_DE_DADOS;

-- 3 PASSO: CRIAR AS TABELAS !SEM! CHAVE ESTRANGEIRA

CREATE TABLE IF NOT EXISTS CLIENTES(

-- NOME_ATRIBUTO TIPO [RESTRIÇÃO]

NUM_CLIENTE INT PRIMARY KEY,
NOME_CLIENTE VARCHAR(100) NOT NULL,
RUA VARCHAR(100) NOT NULL,
NUMERO INT,
BAIRRO VARCHAR(100) NOT NULL,
CIDADE VARCHAR(100) NOT NULL,
UF CHAR(2) NOT NULL,
CEP VARCHAR(9) NOT NULL);

CREATE TABLE IF NOT EXISTS CARROS(
ID_CARRO INT PRIMARY KEY,
REGISTRO VARCHAR(20) NOT NULL,
MARCA VARCHAR(20) NOT NULL);

-- 4 PASSO: CRIAR AS TABELAS COM FK, POR ORDEM DE NECESSIDADE

CREATE TABLE IF NOT EXISTS APOLICES(
NUM INT,
VALOR DECIMAL(10,2) NOT NULL,
CLIENTE INT NOT NULL,
CARRO INT NOT NULL,
PRIMARY KEY(NUM),
CONSTRAINT CLI_APO FOREIGN KEY(CLIENTE) REFERENCES CLIENTES(NUM_CLIENTE),
CONSTRAINT CAR_APO FOREIGN KEY(CARRO) REFERENCES CARROS(ID_CARRO));

CREATE TABLE IF NOT EXISTS ACIDENTES(
ID_ACIDENTE INT AUTO_INCREMENT PRIMARY KEY,
DATA_ACIDENTE DATE NOT NULL,
HORA TIME NOT NULL,
RUA VARCHAR(100) NOT NULL,
NUMERO INT,
BAIRRO VARCHAR(100) NOT NULL,
CIDADE VARCHAR(100) NOT NULL,
UF CHAR(2),
CEP VARCHAR(9),
CARRO INT NOT NULL,
CONSTRAINT CAR_ACI FOREIGN KEY(CARRO) REFERENCES CARROS(ID_CARRO));
